<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="./generalnew.xhtml">


	<ui:define name="title">
		<h:outputText value="" />
	</ui:define>
	<ui:define name="header">
		<h:outputText value="" />
	</ui:define>

	<ui:define name="content">

	
	<table>
	<tr>
	<h:form>
	<p:commandButton id="idPanier" value="Voir panier"
					action="#{panierMB.validerPanier}"
					 ajax="false" />
					 </h:form>
	</tr>
		<tr>
		<td>
	<h:form> 

    <p:dataScroller value="#{dataScrollerView.produits}" var="p"
				chunkSize="10">
        <f:facet name="header">
            Produits disponibles
        </f:facet>
 
        <h:panelGrid columns="3" columnClasses="logo,detail">

            <p:graphicImage value="/webapp/css/images/#{p.urlimg}" width="100px"> 
				<f:param name="url" value="#{p.urlimg}"></f:param>
			</p:graphicImage>

            <p:outputPanel>
                <h:panelGrid columns="4" cellpadding="2">
                    <h:outputText value="Reference:" />
                    <h:outputText value="#{p.idProduit}" style="font-weight: bold" />

                    <h:outputText value="Libelle:" />
                    <h:outputText value="#{p.libelle}" style="font-weight: bold" />
 					
                    <h:outputText value="Prix:" />
                    <h:outputText value="#{p.prix}€" style="font-weight: bold" />
 					
					</h:panelGrid>
					<h:panelGrid columns="2">
					
				
				<p:commandButton id="addtocart" action="#{panierMB.addToCart}"
					icon="ui-icon-circle-plus" actionListener="#{panierMB.printID}" update="quantite">
					<f:attribute name="pid" value="#{p.idProduit}"></f:attribute>
					<f:attribute name="type" value="#{p.type}"></f:attribute>
				</p:commandButton>
				
				<h:outputText id="quantite" value="#{panierMB.showQuantite()}" actionListener="#{panierMB.printID}">
					<f:attribute name="pid" value="#{p.idProduit}"></f:attribute>
					<f:attribute name="type" value="#{p.type}"></f:attribute>
				</h:outputText>

				<p:commandButton id="removefromcart" action="#{panierMB.removeFromCart}"
					icon="ui-icon-circle-minus" actionListener="#{panierMB.printID}" update="quantite">
					<f:attribute name="pid" value="#{p.idProduit}"></f:attribute>
					<f:attribute name="type" value="#{p.type}"></f:attribute>
				</p:commandButton>

                </h:panelGrid>
            </p:outputPanel>

        </h:panelGrid>
    </p:dataScroller>
		</h:form>
</td>
</tr>
</table>

	</ui:define>

</ui:composition>
